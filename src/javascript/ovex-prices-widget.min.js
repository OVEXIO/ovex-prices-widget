window.onload=getWidgetData();function getWidgetData(){widgetUrl="https://www.ovex.io/api/v2/currency/widget";var widgetData;$.when($.getJSON(widgetUrl,function(data){widgetData=data})).then(function(){if(widgetData){renderPrices(widgetData)}})}
function renderPrices(widgetData){var tickersSlider=document.getElementById('ovex_prices_marquee');tickersSlider.innerHTML="";console.log(widgetData);for(var i=0;i<widgetData.length;i++){var key=Object.keys(widgetData[i]);var change=widgetData[i][key].change;if(parseFloat(change)!=0){if(parseFloat(change)>0){tickersSlider.innerHTML+="<li class='market'><p><span class='ovex-currency-price'>"+widgetData[i][key].currency_name+" ("+key[0].toUpperCase()+")</span> <span class='zar-price'>R"+widgetData[i][key].zar_price+"</span> <span class='daily-price-change ovex-text-up'>("+change+")</span></p></li>"}
else if(parseFloat(change)<0){tickersSlider.innerHTML+="<li class='market'><p><span class='ovex-currency-price'>"+widgetData[i][key].currency_name+" ("+key[0].toUpperCase()+")</span> <span class='zar-price'>R"+widgetData[i][key].zar_price+"</span> <span class='daily-price-change ovex-text-down'>("+change+")</span></p></li>"}}}duplicateChildNodes('ovex_prices_marquee');duplicateChildNodes('ovex_prices_marquee');duplicateChildNodes('ovex_prices_marquee');}function togglePausePlay(arg){var pause=document.getElementById('pause_icon');var play=document.getElementById('play_icon');var slider=document.getElementById('ovex_prices_marquee');pause.classList.toggle('hide');play.classList.toggle('hide');if(arg==0){slider.style.animationPlayState='paused';}else{slider.style.animationPlayState='running';}}function duplicateChildNodes(parentId){var parent=document.getElementById(parentId);NodeList.prototype.forEach=Array.prototype.forEach;var children=parent.childNodes;children.forEach(function(item){var cln=item.cloneNode(true);parent.appendChild(cln);});}